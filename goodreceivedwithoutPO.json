{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Goods Received (CMT) Schema",
    "type": "object",
    "description": "CMT goods receipt with header and detail lines. Datetimes use SQL Server format: 'yyyy-MM-dd HH:mm:ss.SSS'.",
    "properties": {
      "header": {
        "type": "object",
        "properties": {
          "transactionNo": {
            "type": "string",
            "maxLength": 50,
            "description": "Primary transaction number (Header)."
          },
          "transactionDate": {
            "type": "string",
            "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}\\.\\d{3}$",
            "description": "Transaction date (Header)."
          },
          "noAju": {
            "type": "string",
            "maxLength": 26,
            "description": "Nomor Aju (PPKEK document) (Header)."
          }
        },
        "required": ["transactionNo", "transactionDate", "noAju"],
        "additionalProperties": false
      },
      "details": {
        "type": "array",
        "minItems": 1,
        "description": "Detail line items.",
        "items": {
          "type": "object",
          "properties": {
            "itemCode": {
              "type": "string",
              "maxLength": 50,
              "description": "Item code (Detail)."
            },
            "qty": {
              "type": "number",
              "multipleOf": 0.01,
              "description": "Quantity (decimal(18,2), Detail)."
            },
            "unitCode": {
              "type": "string",
              "maxLength": 10,
              "description": "Unit of measure (Detail)."
            },
            "unitPrice": {
              "type": "number",
              "description": "Unit price (float, Detail)."
            },
            "batchNo": {
              "type": "integer",
              "description": "Batch number (Detail)."
            }
          },
          "required": ["itemCode", "qty", "unitCode", "unitPrice", "batchNo"],
          "additionalProperties": false
        }
      }
    },
    "required": ["header", "details"],
    "additionalProperties": false,
    "examples": [
      {
        "header": {
          "transactionNo": "GR-CMT-2025-000112",
          "transactionDate": "2025-09-24 14:10:00.000",
          "noAju": "23092025000000123456789012"
        },
        "details": [
          {
            "itemCode": "FG-TS-CLS-180",
            "qty": 1200.00,
            "unitCode": "PCS",
            "unitPrice": 1.80,
            "batchNo": 3051
          },
          {
            "itemCode": "FG-TS-CLS-180",
            "qty": 800.00,
            "unitCode": "PCS",
            "unitPrice": 1.80,
            "batchNo": 3052
          }
        ]
      }
    ]
  }